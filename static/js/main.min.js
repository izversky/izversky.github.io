"use strict";var timerInterval,showSocialAnimationTimeOut,fastSocialIconsAnimationInterval;function moneyFormat(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")}function setInputWidth(e){var t=e.parent().find(".input-buffer");t.text(e.val());var a=t.width();e.width(a)}function showFastSocialPopup(){$(".fast-social__button--inner .static, .fast-social__button--inner .icons").addClass("hide"),$(".fast-social__button--inner .close").removeClass("hide"),clearInterval(fastSocialIconsAnimationInterval),clearTimeout(showSocialAnimationTimeOut)}function hideFastSocialPopup(){$(".fast-social__button--inner .static").removeClass("hide"),$(".fast-social__button--inner .close").addClass("hide"),resetFastSocialIconsLine(),startFastSocialAnimation()}function animateFastSocialIcons(){clearTimeout(showSocialAnimationTimeOut);var e=$(".fast-social__button--inner .icons__line span").length,t=1,a=-4;fastSocialIconsAnimationInterval=setInterval(function(){t===e?(clearInterval(fastSocialIconsAnimationInterval),$(".fast-social__button--inner .icons").addClass("hide"),$(".fast-social__button--inner .static").removeClass("hide"),resetFastSocialIconsLine(),startFastSocialAnimation()):($(".fast-social__button--inner .icons__line").css({transform:"translateX("+a+"em)","-moz-transform":"translateX("+a+"em)","-webkit-transform":"translateX("+a+"em)"}),a-=4.25,t++)},1e3)}function startFastSocialAnimation(){showSocialAnimationTimeOut=setTimeout(function(){$(".fast-social__button--inner .icons").removeClass("hide"),$(".fast-social__button--inner .static").addClass("hide"),animateFastSocialIcons()},2e3)}function resetFastSocialIconsLine(){$(".fast-social__button--inner .icons__line").css({transform:"translateX(0.25em)","-moz-transform":"translateX(0.25em)","-webkit-transform":"translateX(0.25em)"})}function startTimer(n,i){timerInterval=setInterval(function(){var e=0<$(n).find(".hours").length,t=getTimerDistance(i),a=getClockValues(t);e&&$(n).find(".hours .value").text(a.hours),$(n).find(".minutes .value").text(a.minutes),$(n).find(".seconds .value").text(a.seconds),t<0&&clearInterval(timerInterval)},1e3)}function getClockValues(e){var a={};return a.hours=Math.floor(e%864e5/36e5),a.minutes=Math.floor(e%36e5/6e4),a.seconds=Math.floor(e%6e4/1e3),$.each(a,function(e,t){t.toString().length<2&&(a[e]="0".concat(t))}),a}function getTimerDistance(e){return e-(new Date).getTime()}function restrictToInteger(){this.value=this.value.replace(/[^\d]/g,"")}function calculateCredit(e,t){var a=e*creditDatas.commission,n=e+e*(t*creditDatas.dailyRate)+a;a=+(a=a.toFixed(2)),$(".info-block__commission .value span").text(moneyFormat(a)),$(".info-block__payment span").text(moneyFormat(n))}function getDaysCount(){return+$("#range-credit-days").val()}function getSumm(){return+$("#range-credit-summ").val()}$(document).ready(function(){var e;if($(".phone-input").inputmask({mask:"+38(099) 99-99-999"}),"undefined"!=typeof creditDatas&&calculateCredit(getSumm(),getDaysCount()),$(document).delegate(".input-effect input, .input-effect textarea","focusout",function(){""!=$(this).val()?($(this).addClass("has-content"),$(this).closest(".form-group").removeClass("error")):$(this).removeClass("has-content")}),$(document).delegate("#get-geo input","change",function(e){e.preventDefault(),e.stopPropagation();var n=$(this),t=$("#get-geo input").is(":checked"),a=$(this).closest(".form-group");n.prop("checked",!t),a.find(".error-text").text(""),a.removeClass("error"),t?navigator.geolocation?(n.prop("checked",!0),navigator.geolocation.getCurrentPosition(function(e){var t=e.coords.latitude,a=e.coords.longitude;$("#latitude").val(t),$("#longitude").val(a),n.prop("checked",!0)},function(e){var t="Не удалось получить местоположение";1===e.code&&(t="Вы отключили возможность получения местоположения"),a.find(".error-text").text(t),a.addClass("error"),n.prop("checked",!1)})):(a.find(".error-text").text("Ваш браузер не поддерживает Geolocation API"),a.addClass("error"),n.prop("checked",!1)):n.prop("checked",!1)}),$(document).delegate(".form-group select","change",function(e){var t=$(e.currentTarget);t.val()&&t.closest(".form-group").removeClass("error")}),$("#about-us").click(function(e){e.preventDefault(),$("#about-us-menu").toggleClass("visible"),$(this).toggleClass("active")}),$(document).delegate("body","click",function(e){$(e.target).closest("#about-us-menu, #about-us").length||($("#about-us").removeClass("active"),$("#about-us-menu").removeClass("visible")),$(e.target).closest(".lang-switcher-container").length||$(".lang-switcher-container ul").removeClass("open"),$(e.target).closest(".cabinet-container").length||$(".cabinet-container").removeClass("open")}),$("#calculate-carousel").owlCarousel({margin:10,loop:!0,autoWidth:!1,items:1,dots:!0,autoplay:!0,autoplayTimeout:3e3,responsive:{0:{autoHeight:!0},769:{autoHeight:!1}}}),$("#menu-carousel").owlCarousel({margin:20,loop:!0,autoWidth:!1,dots:!1,nav:!0,navText:["<i class='icon-fc-angle-down'></i>","<i class='icon-fc-angle-down'></i>"],callbacks:!0,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,responsive:{0:{items:1},480:{items:2},768:{items:3},1070:{items:4}}}).on("refresh.owl.carousel",function(e){$("#menu-carousel").addClass("show")}),$("#reviews").carousel({dist:-190}),$(".carousel-arrow").click(function(){$(this).hasClass("carousel-next")?$("#reviews").carousel("next"):$("#reviews").carousel("prev")}),$(".lang-switcher-container > a").click(function(e){e.preventDefault(),$(this).closest(".lang-switcher-container").find("ul").toggleClass("open")}),$(".credit-calculate .summ-slider:not(.day-slider) .value input").keypress(function(e){if(e.keyCode<48||57<e.keyCode)return e.preventDefault(),!1}).focus(function(e){var t=$(this).val().replace(/\s+/g,"");$(this).val(t),setInputWidth($(this))}).change(function(e){var t=$(this).val();1e4<+t&&$(this).val("10 000"),+t<1e3&&$(this).val("1 000"),$("#range-credit-summ").val(t).change(),setInputWidth($(this))}).focusout(function(){var e=$(this).val();$(this).val(moneyFormat(e)),setInputWidth($(this))}),$(".credit-calculate .day-slider .value input").keypress(function(e){if(e.keyCode<48||57<e.keyCode)return e.preventDefault(),!1}).focus(function(e){setInputWidth($(this))}).change(function(e){var t=$(this).val();$("#range-credit-days").val(t).change(),setInputWidth($(this))}).focusout(function(){setInputWidth($(this))}),$(".credit-calculate .summ-slider .value input").on("input",function(){setInputWidth($(this))}),$(document).delegate(".form-group__checkbox.error input","change",function(e){$(e.currentTarget).closest(".form-group__checkbox").removeClass("error")}),$(document).delegate(".form-group.error .control--radio input","change",function(e){$(e.currentTarget).closest(".form-group").removeClass("error")}),"with-sliders"===$(".calculate-section").data("type")){var t=new Date;t.setDate(t.getDate()+14),$(".calendar-checked-date span").text(weekDayNames[t.getDay()]+", "+t.getDate()+" "+monthNamesSclon[t.getMonth()])}else!function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),n=e.getDate(),i=!1,s="";s+='<div class="calendar-row">';for(var o=1;o<=7;o++){var c=new Date(t,a,n+(o-1)).getDay();s+='<div class="calendar-item week-day">'+weekDayNames[c]+"</div>"}s+="</div>";for(var r=1,l=1;l<=35;l++){var d=new Date(t,a,n+(l-1)),u="";if(1===l&&(s+='<div class="calendar-row">',u+="inactive "),30<l&&(u+="inactive "),14===l&&(u+="checked "),a!==d.getMonth()&&!i)if(i=!0,1!==r){for(var m=1;m<=8-r;m++)s+='<div class="calendar-item inactive"></div>';s+="</div>",s+='<div class="month-name">'+monthNames[d.getMonth()]+"</div>",s+='<div class="calendar-row">';for(var f=1;f<=r-1;f++)s+='<div class="calendar-item inactive"></div>'}else s+='</div><div class="month-name">'+monthNames[d.getMonth()]+'</div><div class="calendar-row">';s+='<div class="calendar-item '+u+'" data-date="'+d+'">'+d.getDate()+"</div>",(l%7==0&&0!==l||35===l)&&(s+="</div>",35!==l&&(s+='<div class="calendar-row">')),7===r?r=1:r++}$("#calendar").append(s);var p=new Date($("#calendar .calendar-item.checked").data("date"));$(".calendar-checked-date span").text(weekDayNames[p.getDay()]+", "+p.getDate()+" "+monthNamesSclon[p.getMonth()])}();$(document).delegate("#calendar .calendar-item:not(.inactive):not(.checked):not(.week-day)","click",function(){var e=new Date($(this).data("date")),t=new Date;$("#calendar .calendar-item").removeClass("checked"),$(this).addClass("checked");var a=Math.ceil(Math.abs(e.getTime()-t.getTime())/864e5);$("#range-credit-days").val(a),$(".calendar-checked-date span").text(weekDayNames[e.getDay()]+", "+e.getDate()+" "+monthNamesSclon[e.getMonth()]),calculateCredit(getSumm(),a)}),$(document).delegate(".remove-document","click",function(e){$(e.currentTarget).closest(".document-upload-step__item").remove()}),$(document).delegate("#add-document-upload-step__item","click",function(e){var t=$(e.currentTarget),a=$("#document-upload .document-upload-step__item").length+1,n=$(".document-upload-step__item.display-none").clone();$(n).removeClass("display-none"),$(n).find(".input-file label").attr("for","type-file-".concat(a)),$(n).find(".input-file input").attr("id","type-file-".concat(a)),t.parent().before(n)}),$(window).scroll(function(){var e=$(this),t=$("header.header");10<e.scrollTop()?t.addClass("scrolled"):t.removeClass("scrolled")}),$(".cabinet-container .cabinet").click(function(e){e.preventDefault(),$(this).parent().toggleClass("open")}),$("#burger").click(function(){$(".burger-ico").hasClass("active")?($(".burger-ico").toggleClass("active"),$(".main-menu-col").slideUp(200)):($(".burger-ico").toggleClass("active"),$(".main-menu-col").slideDown(200))}),$(".about-close").click(function(){$(this).parent().removeClass("visible")}),$(".question-answer-item .description").click(function(){var e=$(this).closest(".question-answer-item"),t=e.find(".answer-content");e.hasClass("opened")?(t.slideUp(200),e.removeClass("opened")):(t.slideDown(200),e.addClass("opened"))}),$(".anchor").click(function(e){e.preventDefault();var t=$(e.currentTarget).attr("href"),a=$(t).offset().top-$("header").height()-10;$("html, body").animate({scrollTop:a},{duration:500,easing:"swing"})}),$(document).delegate("#registration-address-checkbox","change",function(){this.checked?$("#registration-address").slideUp(300):$("#registration-address").slideDown(300)});var a=!1;e="with-one-step"===$(".credit-registration-container").data("type")?{headerTag:"h3",bodyTag:"section",autoFocus:!0,stepsOrientation:"horizontal",transitionEffect:"fade",transitionEffectSpeed:250,titleTemplate:'<span class="number">#index#</span>',onInit:function(e,t){$('.actions > ul > li > a[href="#previous"]').remove()},onStepChanging:function(){a||($("#first-step").submit(),a=!0)},labels:{next:creditFormButtons.next}}:"with-last-step"===$(".credit-registration-container").data("type")?{headerTag:"h3",bodyTag:"section",autoFocus:!0,stepsOrientation:"horizontal",transitionEffect:"fade",transitionEffectSpeed:250,titleTemplate:'<span class="number">#index#</span>',startIndex:5,labels:{save:creditFormButtons.save,next:creditFormButtons.next,previous:creditFormButtons.previous,finish:creditFormButtons.finish},onInit:function(){$('.actions > ul > li > a[href="#previous"], .actions > ul > li > a[href="#next"]').parent().remove(),$(".steps > ul > li").addClass("disabled"),$(".steps > ul > li").attr("aria-disabled","true")},onStepChanging:function(){return!1},onFinished:function(){a||($("#document-upload").submit(),a=!0)}}:{headerTag:"h3",bodyTag:"section",autoFocus:!0,stepsOrientation:"horizontal",transitionEffect:"fade",transitionEffectSpeed:250,titleTemplate:'<span class="number">#index#</span>',startIndex:1,labels:{save:creditFormButtons.save,next:creditFormButtons.next,previous:creditFormButtons.previous,finish:creditFormButtons.finish},onInit:function(e,t){$('.actions > ul > li > a[href="#previous"]').css("display","none"),$("#steps-uid-0-t-0").parent().addClass("disabled"),$("#steps-uid-0-t-0").parent().attr("aria-disabled","true")},onStepChanging:function(e,t,a){return 1===a?$('.actions > ul > li > a[href="#previous"]').css("display","none"):$('.actions > ul > li > a[href="#previous"]').css("display","block"),0!==a},onFinished:function(){a||($("#credit-steps-form").submit(),a=!0)}},$(".credit-steps-form").steps(e),$(document).delegate(".social-links .add-link","click",function(){$(this).before('<div class="social-links-item form-group input-effect"><input type="text" placeholder="Введите ссылку"><div class="remove">×</div></div>')}),$(document).delegate(".social-links .remove","click",function(){$(this).parent().remove()}),$("#edit-data").click(function(){$(".main-personal-page .form-group input").attr("disabled",!1)}),$(".credit-container__item").click(function(){$(this).hasClass("opened")?($(this).find(".credit-container__item--content").slideUp(200),$(this).removeClass("opened")):($(this).find(".credit-container__item--content").slideDown(200),$(this).addClass("opened"))});$("#sw-success").click(function(){Swal.fire({title:!1,type:"",html:'<div class="status-popup"><div class="icon"><img src="./static/images/png/card-success.png"></div><h3>Поздравляем!</h3><p>Ваш кредит одобрен.</p></div>',showCloseButton:!1,showCancelButton:!1,focusConfirm:!0,confirmButtonText:'<a class="btn-main btn-orange" href="/">На главную</a>'})}),$("#sw-error").click(function(){Swal.fire({title:!1,type:"",html:'<div class="status-popup"><div class="icon"><img src="./static/images/png/card-error.png"></div><h3>Сожалеем!</h3><p>Ваш кредит не одобрен.<br>Приходите через 30 дней.</p></div>',showCloseButton:!1,showCancelButton:!1,focusConfirm:!0,confirmButtonText:'<a class="btn-main btn-orange" href="/">На главную</a>'})}),$("#sw-news").click(function(){Swal.fire({title:!1,type:"",html:'<div class="status-popup"><div class="icon"><i class="fas fa-envelope"></i></div><h3>Поздравляем!</h3><p>Теперь ты в клубе FlashCash и будешь получать информацию об акциях и промо!</p></div>',showCloseButton:!1,showCancelButton:!1,focusConfirm:!0,confirmButtonText:'<button type="button" class="btn-main btn-orange">Закрыть</button>'})}),$("#sw-documents").click(function(){Swal.fire({title:!1,type:"",html:'<div class="status-popup"><div class="icon"><i class="fas fa-file-alt"></i></div><h3>Поздравляем!</h3><ul class="custom-ul mb-2em"><li><div>Кредитные средства будут зачислены на карту, указанную в договоре</div></li><li><div>Подписанные вами документы доступные в личном кабинете по данной <a href="/client/personal_data/">ссылке</a>. Введите ваш email для получения копий документов и ведения официальной переписки.</div></li></ul><form id="popup-email"><div class="form-group input-effect"><input type="email" name="email" required="required"><label>Введите ваш email</label><span class="error-text">Заполните поле</span></div></form></div>',showCloseButton:!1,showCancelButton:!1,focusConfirm:!0,confirmButtonText:'<button type="button" class="btn-main btn-orange">Ознакомлен</button>',preConfirm:function(){if(""===$("#popup-email input").val())return $("#popup-email .form-group").addClass("error"),!1}}).then(function(e){e.value&&$("#popup-email").submit()})}),$("#change-photo").click(function(){$(this).parent().find("[type=file]").click()}),$('[name="document_type"]').change(function(){var e=$(this).val(),t=$(this).closest(".column");t.find("[data-type]").addClass("display-none"),t.find('[data-type="'+e+'"]').removeClass("display-none")}),$("#ticket_form").submit(function(e){e.preventDefault();var a=$(this),t=a.attr("action");$.ajax({type:"POST",url:t,data:a.serialize(),success:function(e){var t="error";"ok"===e.result&&(a[0].reset(),t="success"),Swal.fire({type:t,text:e.msg,confirmButtonText:'<button class="btn-main btn-orange">ОК</button>'})}})});var n,i,s,o,c,r,l,d=!1;$(".tab-elems a").click(function(e){e.preventDefault()}),$(document).delegate(".tab-elems a:not(.active)","click",function(e){var t=$(e.currentTarget);if(!d){d=!0;var a=t.attr("href"),n=t.closest(".product-tabs__container").find(a),i=t.closest(".product-tabs__container").find($(".tab-elems a.active").attr("href"));$(".tab-elems a").removeClass("active"),t.addClass("active"),i.slideUp(350,function(){n.slideDown(350,function(){d=!1})})}}),$(document).delegate(".tab-link","click",function(e){e.preventDefault()}),$(document).delegate(".tab-link:not(.active)","click",function(e){var t=$(e.currentTarget),a=t.attr("href");$(".tab-link").removeClass("active"),$(".about-us-menu__inner .tab-content").hide(),t.addClass("active"),$(a).show()}),$(document).delegate(".accordion-link","click",function(e){var t=$(e.currentTarget),a=t.attr("href");t.hasClass("active")?(t.removeClass("active"),$(a).slideUp(250)):(t.addClass("active"),$(a).slideDown(250))}),n=new Date,i=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1),s=new Date(n.getFullYear(),n.getMonth(),n.getDate()+30),o=$("#days-count"),c=+o.val(),r=new Date(n.getFullYear(),n.getMonth(),n.getDate()+c),l="".concat(r.getDate(),".").concat(r.getMonth()+1,".").concat(r.getFullYear()),$("#form-daterange").daterangepicker({locale:{format:"DD.M.YYYY",separator:" - ",applyLabel:"Применить",cancelLabel:"Отмена",fromLabel:"От",toLabel:"До",customRangeLabel:"Свой",daysOfWeek:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],firstDay:1},singleDatePicker:!0,autoApply:!0,minDate:"".concat(i.getDate(),".").concat(i.getMonth()+1,".").concat(i.getFullYear()),maxDate:"".concat(s.getDate(),".").concat(s.getMonth()+1,".").concat(s.getFullYear()),opens:"center",startDate:l,endDate:l},function(e){$("#form-daterange").find("input").val(e.format("DD.MM.YYYY"));var t=moment(n),a=e.diff(t,"days");o.val(a+1)}).init(function(){$("#form-daterange").find("input").val(l)}),$(document).delegate("#days-count","input",function(e){var t=$(e.currentTarget);t.val(t.val().replace(/\D/,""))}),$(document).delegate("#days-count","change",function(e){var t=$(e.currentTarget),a=+t.val();30<a?(t.val(30),a=30):a<=0&&(t.val(1),a=1);var n=new Date,i=new Date(n.getFullYear(),n.getMonth(),n.getDate()+a),s="".concat(i.getDate(),".").concat(i.getMonth()+1,".").concat(i.getFullYear());$("#form-daterange").data("daterangepicker").setStartDate(s),$("#form-daterange").data("daterangepicker").setEndDate(s),$("#form-daterange").find("input").val(s)}),$(document).delegate('[href="#reload"]',"click",function(e){e.preventDefault(),location.reload()})}),$(window).on("load",function(){$(".input-effect").each(function(e,t){""!==$(t).find("input").val()&&$(t).find("input").addClass("has-content")}),$("#range-credit-summ").show(),$("#range-credit-summ").rangeslider({polyfill:!1,onInit:function(){var e=$("#range-credit-summ");e.hasClass("max-disabled")&&e.parent().find(".rangeslider__handle").append('<div class="rangeslider__handle__popup">'.concat(sliderText,"</div>"))},onSlide:function(e,t){var a=$("#range-credit-summ");a.hasClass("max-disabled")&&(t===+a.attr("max")?a.parent().find(".rangeslider__handle__popup").addClass("show"):a.parent().find(".rangeslider__handle__popup").removeClass("show"));$(".info-block__summ .value span").text(moneyFormat(t)),$(".credit-calculate .summ-slider:not(.day-slider) .value input").val(moneyFormat(t)),setInputWidth($(".credit-calculate .summ-slider:not(.day-slider) .value input")),calculateCredit(t,getDaysCount())}}),"with-sliders"===$(".calculate-section").data("type")&&($("#range-credit-days").show(),$("#range-credit-days").rangeslider({polyfill:!1,onSlide:function(e,t){var a=new Date;a.setDate(a.getDate()+t),$(".calendar-checked-date span").text(weekDayNames[a.getDay()]+", "+a.getDate()+" "+monthNamesSclon[a.getMonth()]),setInputWidth($(".credit-calculate .day-slider .value input")),$(".day-slider .value > input").val(t),calculateCredit(getSumm(),t)}})),$(".fast-file").on("change",function(){0<$(this)[0].files.length?($(this).closest(".input").find(".state").hide(),$(this).closest(".input").find("label").text("Файл загружен")):($(this).closest(".input").find(".state").show(),$(this).closest(".input").find("label").text("Выбрать файл"))})}),$(document).delegate(".fast-social__button","click",function(e){var t=$(e.currentTarget).closest(".fast-social");t.hasClass("fast-social__show")?(t.removeClass("fast-social__show"),hideFastSocialPopup()):(t.addClass("fast-social__show"),showFastSocialPopup())}),$(document).delegate("body","click",function(e){$(e.target).closest(".fast-social, .fast-social__button").length||$("#fast-social").hasClass("fast-social__show")&&($("#fast-social").removeClass("fast-social__show"),hideFastSocialPopup())}),$(window).on("load",function(){animateFastSocialIcons()});