"use strict";function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var monthNames=["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],monthNamesSclon=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],weekDayNames=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];function moneyFormat(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")}function setInputWidth(e){var t=e.parent().find(".input-buffer");t.text(e.val());var a=t.width();e.width(a)}$(document).ready(function(){var e,t;if($(document).delegate(".input-effect input, .input-effect textarea","focusout",function(){""!=$(this).val()?$(this).addClass("has-content"):$(this).removeClass("has-content")}),$(".input-effect").each(function(e,t){""!==$(t).find("input").val()&&$(t).find("input").addClass("has-content")}),$("#about-us").click(function(e){e.preventDefault(),$("#about-us-menu").toggleClass("visible"),$(this).toggleClass("active")}),$(document).delegate("body","click",function(e){$(e.target).closest("#about-us-menu, #about-us").length||($("#about-us").removeClass("active"),$("#about-us-menu").removeClass("visible")),$(e.target).closest(".lang-switcher-container").length||$(".lang-switcher-container ul").removeClass("open"),$(e.target).closest(".cabinet-container").length||$(".cabinet-container").removeClass("open")}),$("#calculate-carousel").owlCarousel({margin:10,loop:!0,autoWidth:!1,items:1,dots:!0,autoplay:!0,autoplayTimeout:3e3}),$("#menu-carousel").owlCarousel({margin:20,loop:!0,autoWidth:!1,dots:!1,nav:!0,navText:["<i class='icon-fc-angle-down'></i>","<i class='icon-fc-angle-down'></i>"],callbacks:!0,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,responsive:{0:{items:1},480:{items:2},768:{items:3},1070:{items:4}}}).on("refresh.owl.carousel",function(e){$("#menu-carousel").addClass("show")}),$("#reviews").carousel({dist:-190}),$(".carousel-arrow").click(function(){$(this).hasClass("carousel-next")?$("#reviews").carousel("next"):$("#reviews").carousel("prev")}),$(".lang-switcher-container > a").click(function(e){e.preventDefault(),$(this).closest(".lang-switcher-container").find("ul").toggleClass("open")}),$(".credit-calculate .summ-slider:not(.day-slider) .value input").keypress(function(e){if(e.keyCode<48||57<e.keyCode)return e.preventDefault(),!1}).focus(function(e){var t=$(this).val().replace(/\s+/g,"");$(this).val(t),setInputWidth($(this))}).change(function(e){var t=$(this).val();1e4<+t&&$(this).val("10 000"),+t<1e3&&$(this).val("1 000"),$("#range-credit-summ").val(t).change(),setInputWidth($(this))}).focusout(function(){var e=$(this).val();$(this).val(moneyFormat(e)),setInputWidth($(this))}),$(".credit-calculate .day-slider .value input").keypress(function(e){if(e.keyCode<48||57<e.keyCode)return e.preventDefault(),!1}).focus(function(e){setInputWidth($(this))}).change(function(e){var t=$(this).val();$("#range-credit-days").val(t).change(),setInputWidth($(this))}).focusout(function(){setInputWidth($(this))}),$(".credit-calculate .summ-slider .value input").on("input",function(){setInputWidth($(this))}),"with-sliders"===$(".calculate-section").data("type")){var a=new Date;a.setDate(a.getDate()+14),$(".calendar-checked-date span").text(weekDayNames[a.getDay()]+", "+a.getDate()+" "+monthNamesSclon[a.getMonth()])}else!function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),n=e.getDate(),i=!1,s="";s+='<div class="calendar-row">';for(var o=1;o<=7;o++){var c=new Date(t,a,n+(o-1)).getDay();s+='<div class="calendar-item week-day">'+weekDayNames[c]+"</div>"}s+="</div>";for(var l=1,r=1;r<=35;r++){var d=new Date(t,a,n+(r-1)),u="",f="";if(1===r&&(s+='<div class="calendar-row">',u+="inactive "),a===d.getMonth()||i||(f="<span>"+monthNames[d.getMonth()]+"</span>",u+="month-name "),30<r&&(u+="inactive "),14===r&&(u+="checked "),a!==d.getMonth()&&!i&&r%7!=0&&(i=!0,1!==l)){if(7!==l)for(var p=1;p<=8-l;p++)s+='<div class="calendar-item inactive"></div>';if(s+='</div><div class="calendar-row">',7!==l)for(var h=1;h<=l-1;h++)s+='<div class="calendar-item inactive"></div>'}s+='<div class="calendar-item '+u+'" data-date="'+d+'">'+d.getDate()+f+"</div>",(r%7==0&&0!==r||35===r)&&(s+="</div>",35!==r&&(s+='<div class="calendar-row">')),7===l?l=1:l++}$("#calendar").append(s);var m=new Date($("#calendar .calendar-item.checked").data("date"));$(".calendar-checked-date span").text(weekDayNames[m.getDay()]+", "+m.getDate()+" "+monthNamesSclon[m.getMonth()])}();($(document).delegate("#calendar .calendar-item:not(.inactive):not(.checked):not(.week-day)","click",function(){var e=new Date($(this).data("date")),t=new Date;$("#calendar .calendar-item").removeClass("checked"),$(this).addClass("checked");var a=Math.ceil(Math.abs(e.getTime()-t.getTime())/864e5);$("#range-credit-days").val(a),$(".calendar-checked-date span").text(weekDayNames[e.getDay()]+", "+e.getDate()+" "+monthNamesSclon[e.getMonth()])}),$(window).scroll(function(){var e=$(this),t=$("header.header");10<e.scrollTop()?t.addClass("scrolled"):t.removeClass("scrolled")}),$(".cabinet-container .cabinet").click(function(e){e.preventDefault(),$(this).parent().toggleClass("open")}),$("#burger").click(function(){$(".burger-ico").hasClass("active")?($(".burger-ico").toggleClass("active"),$(".main-menu-col").slideUp(200)):($(".burger-ico").toggleClass("active"),$(".main-menu-col").slideDown(200))}),$(".about-close").click(function(){$(this).parent().removeClass("visible")}),$(".question-answer-item .description").click(function(){var e=$(this).closest(".question-answer-item"),t=e.find(".answer-content");e.hasClass("opened")?(t.slideUp(200),e.removeClass("opened")):(t.slideDown(200),e.addClass("opened"))}),$(".anchor").click(function(e){e.preventDefault();var t=$(e.currentTarget).attr("href"),a=$(t).offset().top-$("header").height()-10;$("html, body").animate({scrollTop:a},{duration:500,easing:"swing"})}),$(document).delegate("#registration-address-checkbox","change",function(){this.checked?$("#registration-address").slideUp(300):$("#registration-address").slideDown(300)}),"with-one-step"===$(".credit-registration-container").data("type"))?e={headerTag:"h3",bodyTag:"section",autoFocus:!0,stepsOrientation:"horizontal",transitionEffect:"fade",transitionEffectSpeed:250,titleTemplate:'<span class="number">#index#</span>',onInit:function(e,t){$('.actions > ul > li > a[href="#previous"]').remove()},onStepChanging:function(e,t,a){$(this).find("form").submit()},labels:{next:"Продолжить"}}:(_defineProperty(t={headerTag:"h3",bodyTag:"section",autoFocus:!0,stepsOrientation:"horizontal",transitionEffect:"fade",transitionEffectSpeed:250,titleTemplate:'<span class="number">#index#</span>',startIndex:1,labels:{save:"Сохранить",next:"Продолжить",previous:"Назад",finish:"Оформить"},onInit:function(e,t){$('.actions > ul > li > a[href="#previous"]').css("display","none"),$("#steps-uid-0-t-0").parent().addClass("disabled"),$("#steps-uid-0-t-0").parent().attr("aria-disabled","true")},onStepChanging:function(e,t,a){return 0!==a}},"onStepChanging",function(e,t,a){return 1===a?$('.actions > ul > li > a[href="#previous"]').css("display","none"):$('.actions > ul > li > a[href="#previous"]').css("display","block"),!0}),_defineProperty(t,"onFinished",function(){$("#credit-steps-form").submit()}),e=t);$(".credit-steps-form").steps(e),$(document).delegate(".social-links .add-link","click",function(){$(this).before('<div class="social-links-item form-group input-effect"><input type="text" placeholder="Введите ссылку"><div class="remove">×</div></div>')}),$(document).delegate(".social-links .remove","click",function(){$(this).parent().remove()}),$("#edit-data").click(function(){$(".main-personal-page .form-group input").attr("disabled",!1)}),$(".credit-container__item--head .open").click(function(){var e=$(this).closest(".credit-container__item");e.hasClass("opened")?(e.find(".credit-container__item--content").slideUp(200),e.removeClass("opened")):(e.find(".credit-container__item--content").slideDown(200),e.addClass("opened"))});$("#sw-success").click(function(){Swal.fire({title:!1,type:"",html:'<div class="status-popup"><div class="icon"><img src="./static/images/png/card-success.png"></div><h3>Поздравляем!</h3><p>Ваш кредит одобрен.</p></div>',showCloseButton:!1,showCancelButton:!1,focusConfirm:!0,confirmButtonText:'<a class="btn-main btn-orange" href="/">На главную</a>'})}),$("#sw-error").click(function(){Swal.fire({title:!1,type:"",html:'<div class="status-popup"><div class="icon"><img src="./static/images/png/card-error.png"></div><h3>Сожалеем!</h3><p>Ваш кредит не одобрен.<br>Приходите через 30 дней.</p></div>',showCloseButton:!1,showCancelButton:!1,focusConfirm:!0,confirmButtonText:'<a class="btn-main btn-orange" href="/">На главную</a>'})}),$("#change-photo").click(function(){$(this).parent().find("[type=file]").click()}),$('[name="document_type"]').change(function(){var e=$(this).val(),t=$(this).closest(".column");t.find("[data-type]").addClass("display-none"),t.find('[data-type="'+e+'"]').removeClass("display-none")}),$("#ticket_form").submit(function(e){e.preventDefault();var a=$(this),t=a.attr("action");$.ajax({type:"POST",url:t,data:a.serialize(),success:function(e){var t="error";"ok"===e.result&&(a[0].reset(),t="success"),Swal.fire({type:t,text:e.msg,confirmButtonText:'<button class="btn-main btn-orange">ОК</button>'})}})});var s=!1;$(".tab-elems a").click(function(e){e.preventDefault()}),$(document).delegate(".tab-elems a:not(.active)","click",function(e){var t=$(e.currentTarget);if(!s){s=!0;var a=t.attr("href"),n=t.closest(".product-tabs__container").find(a),i=t.closest(".product-tabs__container").find($(".tab-elems a.active").attr("href"));$(".tab-elems a").removeClass("active"),t.addClass("active"),i.slideUp(350,function(){n.slideDown(350,function(){s=!1})})}}),$(document).delegate(".tab-link","click",function(e){e.preventDefault()}),$(document).delegate(".tab-link:not(.active)","click",function(e){var t=$(e.currentTarget),a=t.attr("href");$(".tab-link").removeClass("active"),$(".about-us-menu__inner .tab-content").hide(),t.addClass("active"),$(a).show()}),$(document).delegate(".accordion-link","click",function(e){var t=$(e.currentTarget),a=t.attr("href");t.hasClass("active")?(t.removeClass("active"),$(a).slideUp(250)):(t.addClass("active"),$(a).slideDown(250))})}),$(window).on("load",function(){$("#range-credit-summ").show(),$("#range-credit-summ").rangeslider({polyfill:!1,onSlide:function(e,t){$(".info-block__summ .value span").text(moneyFormat(t)),$(".credit-calculate .summ-slider:not(.day-slider) .value input").val(moneyFormat(t)),setInputWidth($(".credit-calculate .summ-slider:not(.day-slider) .value input"));var a=t+parseInt($(".info-block__commission .value span").text());$(".info-block__payment span").text(moneyFormat(a))}}),"with-sliders"===$(".calculate-section").data("type")&&($("#range-credit-days").show(),$("#range-credit-days").rangeslider({polyfill:!1,onSlide:function(e,t){var a=new Date;a.setDate(a.getDate()+t),$(".calendar-checked-date span").text(weekDayNames[a.getDay()]+", "+a.getDate()+" "+monthNamesSclon[a.getMonth()]),setInputWidth($(".credit-calculate .day-slider .value input")),$(".day-slider .value > input").val(t)}})),$(".fast-file").on("change",function(){0<$(this)[0].files.length?($(this).closest(".input").find(".state").hide(),$(this).closest(".input").find("label").text("Файл загружен")):($(this).closest(".input").find(".state").show(),$(this).closest(".input").find("label").text("Выбрать файл"))})});