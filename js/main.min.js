"use strict";

$(function () {
  $('#catalog-btn').click(function (e) {
    var _this = $(e.currentTarget);

    if (_this.hasClass('active')) {
      $('header .sub__menu').slideUp(250);

      _this.removeClass('active');
    } else {
      $('header .sub__menu').slideDown(250);

      _this.addClass('active');
    }
  });
  $(document).delegate('body', 'click', function (event) {
    if (!$(event.target).closest('header .sub__menu').length && !$(event.target).closest('#catalog-btn').length) {
      $('header .sub__menu').slideUp(250);
      $('#catalog-btn').removeClass('active');
    }

    if (!$(event.target).closest('.with-submenu').length) {
      $('.with-submenu .submenu-button').removeClass('open');
      $('.with-submenu .submenu').removeClass('show');
    }

    if (!$(event.target).closest('.personal-office').length) {
      $('.personal-office a').removeClass('open');
      $('.personal-office .login').slideUp(250);
    }
  });
  $('.submenu-button').click(function (e) {
    e.preventDefault();

    var _this = $(e.currentTarget),
        _parent = _this.closest('.with-submenu'),
        _menu = _parent.find('.submenu');

    if (_this.hasClass('open')) {
      _this.removeClass('open');

      _menu.removeClass('show');
    } else {
      $('.with-submenu .submenu-button').removeClass('open');
      $('.with-submenu .submenu').removeClass('show');

      _this.addClass('open');

      _menu.addClass('show');
    }
  });
  $('.personal-office a:not(.open)').click(function (e) {
    e.preventDefault();

    var _this = $(e.currentTarget),
        _parent = _this.closest('.personal-office'),
        _login = _parent.find('.login');

    _this.addClass('open');

    _login.slideDown(250);
  });
  $('.mobile-menu .menu-item__title').click(function (e) {
    var _this = $(e.currentTarget),
        _parent = _this.closest('.menu-item'),
        _items = _parent.find('ul');

    if (_parent.hasClass('open')) {
      _parent.removeClass('open');

      _items.slideUp(250);
    } else {
      _parent.addClass('open');

      _items.slideDown(250);
    }
  });
  $('.gamburger').click(function () {
    var _menu = $('.mobile-menu'),
        _layer = $('.mobile-menu-layer');

    _menu.addClass('show');

    _layer.addClass('show');

    $('body').css('overflow-y', 'hidden');
  });
  $('.mobile-menu-layer').click(function (e) {
    var _this = $(e.currentTarget),
        _menu = $('.mobile-menu');

    _menu.removeClass('show');

    _this.removeClass('show');

    $('body').css('overflow-y', 'visible');
  });
  $('.front-products-list__owl').owlCarousel({
    loop: false,
    margin: 10,
    autoplay: true,
    autoplaySpeed: 500,
    responsiveClass: true,
    nav: false,
    dots: false,
    responsive: {
      0: {
        items: 1
      },
      580: {
        items: 2
      },
      768: {
        items: 2
      }
    }
  });
  $('.news__inner-mobile').owlCarousel({
    loop: false,
    margin: 10,
    autoplay: true,
    autoplaySpeed: 500,
    responsiveClass: true,
    nav: false,
    dots: false,
    items: 1
  });
  $('.main-slider').owlCarousel({
    loop: true,
    autoplay: true,
    autoplaySpeed: 500,
    margin: 10,
    responsiveClass: true,
    nav: false,
    dots: false,
    items: 1
  });
});